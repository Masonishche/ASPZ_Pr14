# Звіт з практичної роботи №14
## Завдання 23
Реалізуйте механізм "debounce" для подій, що надходять від користувача (наприклад, клавіатура) через POSIX-таймер.

#### Код програми:
(https://github.com/Masonishche/ASPZ_Pr14/blob/main/task23.c)

### Опис рішення:
Програма реалізує механізм debounce для подій з клавіатури, використовуючи засоби POSIX у середовищі FreeBSD. Основна мета — обробити тільки одне натискання клавіші в межах заданого інтервалу часу (в нашому випадку 300 мілісекунд), ігноруючи всі повторні натискання, які відбуваються у цей проміжок. Це дозволяє уникнути проблеми "дребезгу" контактів або небажаних повторних подій від користувача, що особливо важливо у взаємодії з клавіатурою або фізичними кнопками.

На початку програми налаштовується термінал: він переводиться у raw-режим, у якому клавіші зчитуються одразу, без необхідності натискати Enter, а також вимикається відображення введених символів на екрані (режим без ехо). Крім того, ввід з клавіатури переводиться у неблокуючий режим, що дозволяє постійно перевіряти наявність символів без затримок у виконанні циклу.

Далі створюється POSIX-таймер за допомогою timer_create, який конфігурується так, щоб надсилати сигнал SIGRTMIN після завершення тайм-ауту. Цей таймер активується кожного разу при реєстрації натискання клавіші. Якщо користувач натискає клавішу, коли таймер ще не завершив свою роботу, натискання ігнорується — таким чином реалізується ефект debounce.

У головному циклі програма постійно перевіряє, чи натиснуто якусь клавішу. Якщо символ прочитано і не активований флаг "debounce", програма виводить цей символ на екран, активує флаг та запускає таймер. Після завершення дії таймера, сигнал обнуляє флаг, дозволяючи обробку наступної події. Також реалізовано перевірку на символ 'q', щоб дозволити користувачу завершити виконання програми у будь-який момент.

Завдяки таймеру, користувацькі натискання обробляються не частіше, ніж один раз у 300 мілісекунд, що дозволяє уникнути помилкових повторів. Програма завершує свою роботу, повертаючи термінал у стандартний режим. Такий підхід є ефективним прикладом використання POSIX-таймерів у поєднанні з системними сигналами для контролю часу та подій у системах реального часу.

### Результат виконання:
Після компіляції та запуску програми, користувач бачить повідомлення з інструкцією. При натисканні будь-якої клавіші відображається символ, який було натиснуто. Якщо ту ж клавішу або будь-яку іншу натиснути повторно занадто швидко — протягом 300 мілісекунд — натискання буде проігноровано. Таким чином, було досягнуто ефект фільтрації зайвих або "зашумлених" натискань. Щоб завершити роботу програми, достатньо натиснути клавішу 'q'.

![Знімок екрана 2025-06-06 131246](https://github.com/user-attachments/assets/809d010b-43d2-4d3c-abce-cb5af2f4ab78)

## Висновок:
У ході виконання практичної роботи було розглянуто принцип роботи debounce-алгоритму та реалізовано його у вигляді програми з використанням POSIX-таймера. Це дозволило ефективно обмежити частоту обробки натискань клавіш, що особливо корисно у випадках, коли важливо уникати надлишкових подій (наприклад, при створенні користувацьких інтерфейсів або керуванні кнопками на апаратному рівні). Програма успішно компілюється і виконується у середовищі FreeBSD, а сам код є простим для розуміння та модифікації у майбутньому.
